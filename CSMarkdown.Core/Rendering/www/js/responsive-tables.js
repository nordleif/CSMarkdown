$(document).ready(function () { function c(a) { a.wrap("<div class='table-wrapper' />"); var b = a.clone(); b.find("td:not(:first-child), th:not(:first-child)").css("display", "none"), b.removeClass("responsive"), a.closest(".table-wrapper").append(b), b.wrap("<div class='pinned' />"), a.wrap("<div class='scrollable' />"), e(a, b) } function d(a) { a.closest(".table-wrapper").find(".pinned").remove(), a.unwrap(), a.unwrap() } function e(a, b) { var c = a.find("tr"), d = b.find("tr"), e = []; c.each(function (a) { var b = $(this), c = b.find("th, td"); c.each(function () { var b = $(this).outerHeight(!0); e[a] = e[a] || 0, b > e[a] && (e[a] = b) }) }), d.each(function (a) { $(this).height(e[a]) }) } var a = !1, b = function () { return $(window).width() < 767 && !a ? (a = !0, $("table.responsive").each(function (a, b) { c($(b)) }), !0) : void (a && $(window).width() > 767 && (a = !1, $("table.responsive").each(function (a, b) { d($(b)) }))) }; $(window).load(b), $(window).on("redraw", function () { a = !1, b() }), $(window).on("resize", b) });